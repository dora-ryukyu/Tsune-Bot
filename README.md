# ツネBot：詳細技術解説

## はじめに
このページでは、Xで話題のツネBotについて、技術的な観点から詳しく解説いたします。ツネBotの特徴、使用している技術、運用方法、そして現状の課題まで、幅広く説明していきます。  
※以下は実際に使用されているプロンプトが含まれておらず、また、古い情報が含まれている可能性があります。最新情報を確認したい方は[こちらのページ](https://dora-ryukyu.github.io/Tsune-Bot/)にアクセスしてください。

## ツネBotとは
ツネBotは、Xのガジェット界隈で話題になった常(ツネ)さんの「ツーネツネツネ！」構文を採用したBotです。この特徴的な構文を使用して、自動的に文章を生成し、Xに投稿しています。例えば、「ツーネツネツネ！今日は頑張ったから早めに寝るツネ！」というような投稿を行います。

## 技術的な特徴
- **使用しているAPI**  
  Gemini 1.5 Pro APIとX APIを活用し、無料枠内で効率的に運用しています。

- **文章生成の工夫**  
  多様な文章を生成するため、APIパラメータを最適化し、独自のプロンプトを使用しています。

- **サーバーレスアーキテクチャ**  
  Google Apps Scriptを使用し、サーバーレスで安定した自動投稿を実現しています。

## 運用方法

### 投稿スケジュール
1日50件の制約を守るために、以下の時間帯で15分おきにポストしています：
- 7:00〜9:59
- 12:00〜12:59
- 15:00〜23:59

### 自動投稿の仕組み
Google Apps Scriptの「トリガー」機能を使用して、15分ごとに時間判定プログラムを実行しています。この時間判定プログラムがポストする時間帯であると判定した場合、Gemini 1.5 Pro APIで文章を生成し、その文章をX APIを使用してポストします。

## 開発背景
ツネBotの製作者は、プログラミングの経験がありませんでした。そのため、インターネット上で公開されていた以下のプログラムを拝借し、組み合わせて使用しています：
1. Geminiで文章を生成するためのプログラム：  
   [https://gas-4u.com/gas13/](https://gas-4u.com/gas13/)
2. Xへ文章を投稿するプログラム：  
   [https://kazulog.fun/dev/twitter-bot-preparation/](https://kazulog.fun/dev/twitter-bot-preparation/)
3. 時間を判定してポストを実行するか否かを判定するプログラム：  
   [https://www.ai-shift.co.jp/techblog/2780](https://www.ai-shift.co.jp/techblog/2780)

## 現状と課題
ツネBotの現状は、基本的に安定して動作しており、本人の公認Botにもなりました。また、ある程度閲覧されるようになり、認知度も向上しています。

しかし、以下のような課題も存在します：
1. 朝7時台はAPIの利用が混み合うために、エラーになってしまい投稿できないことがあります。
2. 生成される文章に偏りがあり、時に1パターンになってしまうことがあります。

これらの課題に対しては、今後改善を重ねていく予定です。

## おわりに
ツネBotは、最新のAI技術と無料のAPI、そしてサーバーレスアーキテクチャを組み合わせたプロジェクトです。今後も改善を重ね、より安定した運用と多様な文章生成を目指して発展していく予定です。
